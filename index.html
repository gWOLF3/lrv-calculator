<!DOCTYPE html>
<html>
<head>
    <title>LRV Contrast Calculator</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 400px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: #333;
            text-align: center;
        }

        label {
            color: #666;
            font-size: 14px;
        }

        .color-input-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
        }

        .color-swatch {
            width: 30px;
            height: 30px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-right: 10px;
        }

        input[type=text], input[type=color] {
            padding: 10px;
            margin: 0 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
        }

        button {
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }

        button:hover {
            background-color: #0056b3;
        }

        #result {
            margin-top: 20px;
            font-size: 18px;
            color: #333;
            padding-left: 10px;
            font-weight: 700;
        }

        .info {
            background-color: #e7f3fe;
            border-left: 6px solid #2196F3;
            margin-top: 20px;
            padding: 10px;
            font-size: 14px;
        }

        .sample-container {
            margin-top: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        #sampleText {
            flex-grow: 1;
            margin-right: 10px;
            padding: 10px;
        }

        .sample-display {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            text-align: center;
            overflow: hidden; /* Prevents text overflow */
            white-space: nowrap; /* Keeps the text in a single line */
            text-overflow: ellipsis; /* Adds an ellipsis for overflowed text */
        }
</style>
</head>
<body>
    <div class="container">
        <h2>LRV Contrast Calculator</h2>
        <form id="lrvForm">
            <div class="color-input-container">
                <div class="color-swatch" id="swatch1" style="background-color: #FFFFFF;"></div>
                <label for="color1">Color 1:</label>
                <input type="color" id="colorPicker1" name="color1" value="#FFFFFF">
                <input type="text" id="color1" name="color1" value="#FFFFFF" onchange="syncColor('color1', 'colorPicker1', 'swatch1')">
            </div>
            <div class="color-input-container">
                <div class="color-swatch" id="swatch2" style="background-color: #000000;"></div>
                <label for="color2">Color 2:</label>
                <input type="color" id="colorPicker2" name="color2" value="#000000">
                <input type="text" id="color2" name="color2" value="#000000" onchange="syncColor('color2', 'colorPicker2', 'swatch2')">
            </div>
        </form>

        <div id="result"></div>
        <div class="sample-container">
            <input type="text" id="sampleText" placeholder="Enter sample text" onchange="updateSampleDisplay()">
            <div class="sample-display" id="sampleDisplay">Sample Text</div>
        </div>
        <div class="info">
            <strong>What is LRV?</strong>
            <p>Light Reflectance Value (LRV) measures the percentage of light a color reflects. It's important in design for accessibility, as it helps determine the contrast between different surfaces, aiding visibility for people with visual impairments. High contrast is essential for readability and ease of navigation in various environments.</p>
            <strong>How is LRV Calculated?</strong>
            <p>The formula used for LRV calculation in this tool is a simplified version: LRV = (0.2126 * R) + (0.7152 * G) + (0.0722 * B), where R, G, B are the red, green, and blue color values of the color.</p>
        </div>
        </div>
    </div>


    <script>
        function calculateContrast() {
            var color1 = document.getElementById('color1').value;
            var color2 = document.getElementById('color2').value;

            var lrv1 = calculateLRV(color1);
            var lrv2 = calculateLRV(color2);

            var contrast = Math.abs(lrv1 - lrv2);

            document.getElementById('result').innerHTML = 'LRV Contrast: ' + (contrast.toFixed(2)) + '%';
        }

        function calculateLRV(hexColor) {
            var r = parseInt(hexColor.substring(1, 3), 16) / 255;
            var g = parseInt(hexColor.substring(3, 5), 16) / 255;
            var b = parseInt(hexColor.substring(5, 7), 16) / 255;

            var lrv = 0.2126 * r + 0.7152 * g + 0.0722 * b;
            return lrv * 100;
        }


        function syncColor(textInputId, colorPickerId, swatchId) {
            var colorValue = document.getElementById(textInputId).value;
            document.getElementById(colorPickerId).value = colorValue;
            document.getElementById(swatchId).style.backgroundColor = colorValue;
        }

        // Add event listeners to color pickers to update text fields, swatches, and calculate contrast
        document.getElementById('colorPicker1').addEventListener('input', function() {
            document.getElementById('color1').value = this.value;
            document.getElementById('swatch1').style.backgroundColor = this.value;
            calculateContrast();
        });

        document.getElementById('colorPicker2').addEventListener('input', function() {
            document.getElementById('color2').value = this.value;
            document.getElementById('swatch2').style.backgroundColor = this.value;
            calculateContrast();
        });


        function updateSampleDisplay() {
            var sampleText = document.getElementById('sampleText').value || 'Sample Text';
            var color1 = document.getElementById('color1').value;
            var color2 = document.getElementById('color2').value;

            var sampleDisplay = document.getElementById('sampleDisplay');
            sampleDisplay.textContent = sampleText;
            sampleDisplay.style.color = color1;
            sampleDisplay.style.backgroundColor = color2;
        }

        // Update existing event listeners to include updateSampleDisplay
        document.getElementById('colorPicker1').addEventListener('input', function() {
            document.getElementById('color1').value = this.value;
            document.getElementById('swatch1').style.backgroundColor = this.value;
            calculateContrast();
            updateSampleDisplay();
        });

        document.getElementById('colorPicker2').addEventListener('input', function() {
            document.getElementById('color2').value = this.value;
            document.getElementById('swatch2').style.backgroundColor = this.value;
            calculateContrast();
            updateSampleDisplay();
        });
    </script>
</body>
</html>

